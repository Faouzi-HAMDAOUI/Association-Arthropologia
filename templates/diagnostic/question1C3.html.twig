{% extends "base.html.twig" %}

{% form_theme formView 'bootstrap_4_layout.html.twig' %}

{% block title %}Lancement d'un diagnostic
{% endblock %}

{% block body %}
	<div class="row">
		<div class="col-md-7 col-sm-12">
			{% include "shared/_progress.html.twig" with {
      'width1': 37,
      'width2': 0,
      'width3': 0,
			'width4': 0
    }  %}

			{% include "shared/_guidMobile.html.twig" with {

  'sousParagraphe1': 'Exemples d’espaces verts diversifiés, comportant des nombreuses ressources alimentaires',
      'sousParagraphe2': ' ',
			'sousParagraphe3': ' '

} 
%}

			{% include "shared/_question.html.twig" with {
      'partie': '1',
      'sousPartie': 'c',
      'titre': 'Ressources alimentaires diversifiées sur le site',
			'numQuestion': '3',
			'nbreQuestions': '8',
			'question': 'Présence de végétation hétérogène',
			'infosQuestion': 'Divers patchs naturels de végétation indigène de zones humides, acide, ombragée, séchante, calcaire... ; ou plantations diversifiées de plantes sauvages et indigènes (plantes de « bruyères », de rocaille...) 1 point par type de patch',
    } 
		 %}

			<div class="text-center">

				<button onclick="less()" class="btn mt-5">
					<h1>
						<i class="fas fa-angle-left"></i>
					</h1>
				</button>
				<button class="btn btnDemo ml-3 mr-3 mt-5">
					<h1 class="text-capitalize">
						<span id="demo"></span>
						pts</h1>
				</button>
				<button class="btn mt-5">
					<h1>
						<i onclick="more()" class="fas fa-angle-right"></i>
					</h1>
				</button>
				<br><br>
			</div>
			{{ form_start(formView) }}

			{{ form_errors(formView) }}

			<fieldset class="form-group mt-5">
				{{ form_row(formScore.myRange, {'attr': {'max': '50', 'class': 'slider'}}) }}

			</fieldset>
			{{ form_row(formView.name) }}
			{{ form_row(formView.delimitation) }}
			{{ form_row(formView.proprietaire) }}
			{{ form_row(formView.adresse) }}
			{{ form_row(formView.objectif) }}
			{{ form_row(formView.mail) }}
			{{ form_row(formView.etape) }}
			{{ form_row(formView.score) }}
			{{ form_row(formView.score1) }}
			{{ form_row(formView.score2) }}
			{{ form_row(formView.score3) }}
			{{ form_row(formView.score4) }}
			<br>

			<div class="row mt-4">
				<div class="col col-md-5 col-sm-4">
					<a class="btn btnRetour text-capitalize" href="{{ path('diagnostic_question1C2', {'id': diagnostic.id } ) }}">
						<h3>
							<i class="fas fa-angle-left"></i>
							Retour
						</h3>

					</a>
				</div>

				<div class="col col-md-7 col-sm-4 text-right">
					<button type="submit" class="btn ml-3 text-capitalize" style="background: #FFDD00;">

						<h3>
							Suivant
							<i class="fas fa-angle-right"></i>
						</h3>
					</button>
				</div>
			</div>
			{{ form_end(formView) }}

		</div>

		{% include "shared/_guide.html.twig" with {
	'height': '45',
      'sousParagraphe1': 'Exemples d’espaces verts diversifiés, comportant des nombreuses ressources alimentaires',
      'sousParagraphe2': ' ',
			'sousParagraphe3': ' '
    }  %}

		<script>
			var slider = document.getElementById("score_myRange");
var output = document.getElementById("demo");

var score = document.getElementById("diagnostic2_score");
output.innerHTML = slider.value / 10;
score.value = slider.value / 10;

function more() {
slider.value += 10;
output.innerHTML = slider.value / 10
slider.oninput();
}

function less() {
slider.value -= 10;
output.innerHTML = slider.value / 10
slider.oninput();
}

slider.oninput = function () {
output.innerHTML = this.value / 10;
if (this.value == 0) {
score.value = 0;
} else {
if (this.value == 10) {
score.value = 1;
} else {
if (this.value == 20) {
score.value = 2;
} else {
if (this.value == 30) {
score.value = 3;
} else {
if (this.value == 40) {
score.value = 4;
} else {
if (this.value == 50) {
score.value = 5;
} else {
if (this.value == 60) {
score.value = 6;
} else {
if (this.value == 70) {
score.value = 7;
} else {
if (this.value == 80) {
score.value = 8;
} else {
if (this.value == 90) {
score.value = 9;
} else {
score.value = 10;
}
}
}
}
}
}
}
}
}
}

}
		</script>

	{% endblock %}
